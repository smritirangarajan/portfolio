{% extends "base.html" %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    h1 {
      margin-top: 40px;
      font-size: 28px;
      text-align: center;
    }

    #map {
      height: 600px;
      width: 90%;
      max-width: 1000px;
      margin: 40px auto;
      border-radius: 12px;
    }
  </style>
{% endblock %}

{% block content %}
  <h1>Countries I've Visited</h1>
  <div id="map"></div>

  <!-- Put JS directly inside content block since base.html doesn't include block scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const map = L.map('map').setView([20, -40], 2.2);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
      }).addTo(map);
  
      const places = [
        { name: "Washington, D.C.", lat: 38.9, lon: -77.0 },
        { name: "New York City", lat: 40.7, lon: -74.0 },
        { name: "Hawaii", lat: 20.7, lon: -156.3 },
        { name: "Belize", lat: 17.2, lon: -88.8 },
        { name: "Honduras", lat: 15.2, lon: -86.2 },
        { name: "Jamaica", lat: 18.1, lon: -77.3 },
        { name: "Puerto Rico", lat: 18.2, lon: -66.5 },
        { name: "Costa Rica", lat: 9.7, lon: -84.0 },
        { name: "Cabo", lat: 22.8, lon: -109.9 },
        { name: "Los Angeles", lat: 34.0, lon: -118.2 },
        { name: "San Francisco", lat: 37.8, lon: -122.4 },
        { name: "Italy", lat: 41.9, lon: 12.5 },
        { name: "India", lat: 20.6, lon: 78.9 },
        { name: "Mexico", lat: 23.6, lon: -102.5 },
        { name: "Canada", lat: 56.1, lon: -106.3 },
        { name: "France", lat: 46.6, lon: 1.9 },
        { name: "London", lat: 51.5, lon: -0.1 },
        { name: "Brazil", lat: -14.2, lon: -51.9 },
        { name: "Singapore", lat: 1.3, lon: 103.8 }
      ];
  
      places.forEach(p =>
        L.marker([p.lat, p.lon]).addTo(map)
          .bindPopup(`<b>${p.name}</b>`)
      );
    });
  </script>
  
{% endblock %}
